## 第15周：数据分析与机器学习基础（下）

### 课程介绍

本周课程讲 Matplotlib 数据可视化、数据规整化、数据聚合与分组，词云图等模块。数据可视化主要包含折线图、散点图、柱装图、饼图等，数据规整化包含合并数据、缺失值处理、异常值处理等。



### 学习目标

让学员掌握数据可视化的基本方法，学会制作折线图、散点图、柱状图、饼图等。





---

### 作业

#### 一、服务器日志数据分析

log.txt 文件记录了某个项目中某个 api 的调用情况，采样时间为每分钟一次，包括调用次数、响应时间等信息，大约18万条数据，请进行探索性数据分析。

(1) 请将数据导入 Pandas 中，加上列名。

| 列名         | 描述                   |
| ------------ | ---------------------- |
| id           | 自增字段               |
| api          | api 对应的 url         |
| count        | 单位时间内被访问的次数 |
| res_time_sum | 响应时间总和（毫秒）   |
| res_time_min | 最小响应时间           |
| res_time_max | 最大响应时间           |
| res_time_avg | 平均值                 |
| interval     | 采样间隔时间（秒）     |
| created_at   | 创建日志时间           |

(2) 检测是否有重复值。

(3) 检测是否有异常值。

(4) 分析 api 和 interval 这两列的数据是否对分析有用，如果无用，说明为什么后将这两列丢弃。

(5) 使用 created_at 这一列的数据作为时间索引。

(6) 分析 api 调用次数情况，例如，在一天中，哪些时间是访问高峰，哪些时间段访问比较少，如下图所示，从凌晨2点到11点访问少，业务高峰出现在下午两三点，晚上八九点。

(7) 分析一天中 api 响应时间，如下图所示，可以看到在业务高峰时间段，最大响应时间和平均响应时间都有所上升。

(8) 分析连续几天的数据，可以发现，每天的业务高峰时间段都比较相似。

(9) 分析周末访问量是否有增加。如图所示，可以发现，周末的下午和晚上，比非周末访问量多一些。



#### 二、图书分析

(1) 爬取某图书网站，得到图书数据，6万条左右

(2) 对数据做清洗（缺失值与异常值）

(3) 分析书的数量与年份的关系

(4) 分析书籍的评分与年代之间是否有某种关系

(5) 书籍的价格一般都是在什么范围

(6) 出版的书籍最多的前20个出版社

(7) 书籍评分比较高的出版社

(8) 出书多的作者

(9) 评分高与评论数据量之间是否存在某种关系



#### 三、自己寻找一些数据，并尝试分析