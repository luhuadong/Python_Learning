### 作业1说明

```
$ scrapy startproject sina
```

```
$ scrapy genspider category news.sina.com.cn
```



### 作业2说明

```
$ scrapy startproject renren
```

```
$ scrapy genspider login www.renren.com
```

POST 提交的数据

```json
{
    'email': '15899962740',
    'icode': '',
    'origURL': 'http://www.renren.com/home',
    'domain': 'renren.com',
    'key_id': '1',
    'captcha_type': 'web_login',
    'password': '2c18e5058b11daacfa19994395734b2490de52f533def51d9eb68e009710a7b4',
    'rkey': 'a30944a4db9c355ed88accbaeb6263b9',
    'f': 'http%3A%2F%2Fzhibo.renren.com%2Ftop',
}
```



登录失败的原因

- 您输入的验证码不正确
- 您的用户名和密码不匹配



处理验证码

```html
<dl id="code" class="code clearfix">
<dt><label for="code">验证码:</label></dt>
<dd>
<input id="icode" type="text" name="icode" class="input-text" tabindex="3" autocomplete="off" />
<label class="codetip" id="codeTip" for="icode">请输入验证码</label>
</dd>
</dl>
<dl id="codeimg" class="codeimg clearfix">
<dt></dt>
<dd><img id="verifyPic_login" src="http://icode.renren.com/getcode.do?t=web_login&rnd=Math.random()"/>
</dd>
<a class="changeone" href="javascript:refreshCode_login();" >换一个</a>
</dl>
```

验证码图片

```
http://icode.renren.com/getcode.do?t=web_login&rnd=0.29134234672437187
```

#### 响应 JSON

成功

```json
{
    "code":true,
    "homeUrl":"http://www.renren.com/home"
}
```

失败

```json
{
    "catchaCount":4,
    "code":false,
    "homeUrl":"http://www.renren.com/SysHome.do?origURL=http%3A%2F%2Fwww.renren.com%2Fhome&catchaCount=4&failCode=128",
    "failDescription":"您的用户名和密码不匹配",
    "failCode":128,
    "email":"15899962740"
}
```







### 作业3说明

```
$ scrapy startproject dangdang
$ cd dangdang
$ scrapy genspider pythonbook.py search.dangdang.com
```



item 数据

```python
class DangdangItem(scrapy.Item):
	'''
      当当图书的Item 类，包含所有要爬取的信息
    '''    
    name        = scrapy.Field() # 书名
    price       = scrapy.Field() # 价格
    pic         = scrapy.Field() # 图片链接
    author      = scrapy.Field() # 作者
    publisher   = scrapy.Field() # 出版商
    comments    = scrapy.Field() # 评论数量
    pubdate     = scrapy.Field() # 发行日期
    description = scrapy.Field() # 描述
```

运行爬虫之前，请导入 pythonbook.sql 到 MySQL





---

#### 新浪导航

```
新闻资讯
  |—— 新闻
      |—— 国内
      |—— 国际
      |—— 社会
      |—— 军事
      |—— 新闻视频
      |—— 政务
      |—— 评论
      |—— 图片
      |—— 图解
      |—— 航空
      |—— 天气
      |—— 传媒
      |—— 新观察
      |—— 高清图
      |—— 滚动
      |—— 排行
      |—— 专题
      |—— 调查
      |—— 新闻搜索
  |—— 体育
      |—— NBA
      |—— CBA
      |—— 国际足球
      |—— 英超
      |—— 西甲
      |—— 意甲
      |—— 欧冠
      |—— 中国足球
      |—— 中超
      |—— 综合体育
      |—— 网球
      |—— 棋牌
      |—— 高尔夫
      |—— 彩票
      |—— F1赛车
      |—— 户外
      |—— 高清图
      |—— 体育花絮
      |—— 体育视频
      |—— 直播
  |—— 娱乐
      |—— 八卦
      |—— 明星
      |—— 电影
      |—— 电视
      |—— 音乐
      |—— 戏剧
      |—— 博客
      |—— 专栏
      |—— 韩娱
      |—— 日娱
      |—— 影视打分
      |—— 高清图库
      |—— 资料库
      |—— 影讯
      |—— 电视节目
      |—— 演出订票
      |—— 视频
      |—— 娱乐快报
      |—— 专题
  |—— 财经
      |—— 股票
      |—— 港股
      |—— 美股
      |—— 股吧
      |—— 自选股
      |—— 行情
      |—— 基金
      |—— 期货
      |—— 外汇
      |—— 黄金
      |—— 债券
      |—— 理财
      |—— 银行
      |—— 保险
      |—— 信托
      |—— 专栏
      |—— 博客
      |—— 会议
      |—— 产经
      |—— 消费
  |—— 科技
      |—— 黑猫投诉
      |—— 创事记
      |—— 互联网
      |—— 电信
      |—— IT业界
      |—— 创业
      |—— 直播
      |—— 探索
      |—— 趣图
      |—— GIF趣图
      |—— 众测
      |—— 手机
      |—— 苹果汇
      |—— 数码
      |—— 笔记本
      |—— 相机
      |—— 家电
      |—— 智能家居
      |—— 识趣
      |—— 专题
      |—— 滚动
  |—— 专栏
      |—— 观察家
      |—— 新史记
      |—— 意见领袖
      |—— 创事记
      |—— 水煮娱
      |—— 竞技场
      |—— 风尚标
      |—— 爱生活
      |—— 品图
      |—— 悦读汇
      |—— 作者名录
  |—— 图片
      |—— 看见
      |—— 记忆
      |—— 天下
      |—— 拼图
      |—— 摄影师
      |—— 品图专栏
      |—— 资讯
      |—— 影廊
      |—— 底色
      |—— 自然
      |—— 五年十年
      |—— 新闻猜图
      |—— 大典
      |—— 资助
      |—— 赛事活动
      |—— 合作媒体
      |—— 全站图库
      |—— 图片搜索
  |—— 时尚
      |—— 时装
      |—— 美容
      |—— 美体
      |—— 尚品
      |—— 婚嫁
      |—— 时尚大片
      |—— 时尚博客
      |—— 专栏
      |—— 视频
      |—— 专题
      |—— 微博
      |—— 试用中心
      |—— 秀场T台
      |—— 化妆品库
  |—— 女性
      |—— 情感
      |—— 口述
      |—— 八卦
      |—— 博客
      |—— 专栏
      |—— 论坛
      |—— 专题
      |—— 化妆品库
      |—— 美图集
  |—— 医药
      |—— 药企动态
      |—— 药店观察
      |—— 医疗服务
      |—— 创投汇
      |—— 综合医讯
      |—— 专栏
      |—— 养老产业
      |—— 健康养生
      |—— 查疾病
      |—— 找药品
  |—— 收藏
      |—— 中国书画
      |—— 钱币
      |—— 邮票
      |—— 拍卖
      |—— 展览
      |—— 藏品市场
      |—— 评论分析
      |—— 红木
      |—— 藏趣
      |—— 翡翠玉石
      |—— 博客
      |—— 美术馆
      |—— 艺术名家
      |—— 高清图集
  |—— 房产
      |—— 乐居新闻网
      |—— 新房
      |—— 电商
      |—— 看房团
      |—— 贷款计算
      |—— 评测
      |—— 二手房
      |—— 租房
      |—— 手机乐居
      |—— 家居
      |—— 家居图库
  |—— 汽车
      |—— 新车
      |—— 图库
      |—— 图解
      |—— 试车
      |—— 车型大全
      |—— SUV
      |—— 滚动新闻
      |—— 车致
      |—— 移动端
      |—— 视频
      |—— 导购
      |—— 降价
      |—— 报价
      |—— 经销商
      |—— 用车
      |—— 车模
  |—— 教育
      |—— 中小学
      |—— 国际学校
      |—— 中考
      |—— 高考
      |—— 考研
      |—— 公务员
      |—— 商学院
      |—— 出国留学
      |—— 移民
      |—— 外语
      |—— 少儿英语
      |—— 会计
      |—— 公开课
      |—— 院校库
  |—— 育儿
      |—— 准妈孕产
      |—— 宝宝养育
      |—— 专家问答
      |—— 妈妈常见病
      |—— 宝宝常见病
      |—— 育婴课堂
      |—— 论坛
      |—— 博客
      |—— 微博社区
      |—— 早教
      |—— 试用
      |—— 线下活动
      |—— 工具
  |—— 星座
      |—— 运势大全
      |—— 命理查询
      |—— 心理测试
      |—— 星座爱情
      |—— 血型个性
      |—— 时尚话题
      |—— 名博客
      |—— 星座社区
      |—— 解梦
      |—— 占星命盘
      |—— 塔罗占卜
      |—— 生命灵数
  |—— 佛学
      |—— 入门
      |—— 音乐
      |—— 文化
      |—— 高僧
      |—— 素食
      |—— 博客
      |—— 佛教经典
      |—— 学佛心路
      |—— 寺院导航
      |—— 专题
  |—— 旅游
      |—— 旅游景点
      |—— 旅游攻略
      |—— 图片
      |—— 我的旅行
      |—— 酒店预订
      |—— 机票查询
      |—— 景点推荐
      |—— 旅行家
      |—— 发现之旅
      |—— 主题旅游
      |—— 热门专题
  |—— 游戏
      |—— 全球新网游
      |—— 网游排行榜
      |—— 单机电竞
      |—— 新手卡
      |—— 玩玩平台
      |—— 新浪棋牌
      |—— 微游戏
      |—— 美女直播
      |—— 手机游戏
      |—— 新游尾行
      |—— 美女图集
  |—— 地方站
      |—— 城市
      |—— 上海
      |—— 广东
      |—— 河南
      |—— 四川
      |—— 福建
      |—— 浙江
      |—— 重庆
      |—— 湖北
      |—— 湖南
      |—— 陕西
      |—— 辽宁
      |—— 闽南
      |—— 黑龙江
      |—— 安徽
      |—— 河北
      |—— 江苏
      |—— 江西
      |—— 山西
      |—— 吉林
      |—— 大连
      |—— 天津
      |—— 无锡
      |—— 海南
      |—— 山东
      |—— 广西
      |—— 宁波

微博博客
  |—— 微博
      |—— 注册
      |—— 名人堂
      |—— 热门微博
      |—— 风云榜
      |—— 热门话题
      |—— 微访谈
      |—— 活动
      |—— 微吧
      |—— 游戏微坛
      |—— 手机微博
      |—— 客户端
      |—— 搜索
      |—— 应用
      |—— 轻博
  |—— 博客
      |—— 专栏
      |—— 草根
      |—— 名人库
      |—— 注册
      |—— 搜索
      |—— 搬家
      |—— 排行
      |—— 图片
      |—— 摄影
      |—— 文化
      |—— 八卦
      |—— 体育
      |—— 专题
      |—— 媒体
      |—— 悦博
      |—— 手机博客
      |—— 订阅
      |—— 长微博

视频
  |—— 视频
      |—— 新闻
      |—— 体育
      |—— 综艺
      |—— 公开课

产品工具
  |—— 邮箱
      |—— 免费邮箱
      |—— CN邮箱
      |—— 2008邮箱
      |—— VIP邮箱
      |—— 通行证
  |—— 产品
      |—— 论坛
      |—— UC
      |—— 乐库
      |—— 环保
      |—— 公益
      |—— RSS
  |—— 百事通
      |—— 地图
      |—— 实时路况
      |—— 软件
      |—— 公交换乘
      |—— 在线翻译
      |—— 演出查询
  |—— 搜索
      |—— 新闻
      |—— 视频
      |—— 博客
      |—— 音乐
      |—— 图片
      |—— 地图
      |—— 车型
      |—— 手机
      |—— 微博搜索
      |—— 专题

手机客户端
  |—— 客户端
      |—— 新浪新闻
      |—— 新浪体育
      |—— 新浪财经
      |—— 新浪众测
      |—— 天气通
      |—— 新浪微博
      |—— 新浪视频
      |—— 新浪微盘
      |—— 新浪娱乐
      |—— 新浪阅读
      |—— 爱汽车
      |—— 汽车图片
      |—— 乐居买房
      |—— LoveLady
      |—— 育儿专家问答
  |—— 手机
      |—— 手机新浪网
```

